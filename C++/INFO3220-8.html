<!DOCTYPE html>
<!-- saved from url=(0067)http://sydney.edu.au/engineering/it/courses/info3220/tutorial8.html -->
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en" class="gr__sydney_edu_au"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
		<title>INFO3220</title>
		
		<link rel="stylesheet" type="text/css" href="./INFO3220-8_files/bootstrap.css">	
		<link rel="stylesheet" type="text/css" href="./INFO3220-8_files/base.css" media="screen">
		<link rel="stylesheet" type="text/css" href="./INFO3220-8_files/baseForPrinting.css" media="print">
		<script type="text/javascript" src="./INFO3220-8_files/jquery-1.10.1.min.js.download"></script><style type="text/css">
:root #content > #right > .dose > .dosesingle,
:root #content > #center > .dose > .dosesingle,
:root .addthis_toolbox,
:root #header + #content > #left > #rlblock_left
{ display: none !important; }</style>
		<script type="text/javascript" src="./INFO3220-8_files/tutorial8.js.download"></script>
	</head><script>function inject(){function a(){function a(a){parent.postMessage({type:"blockedWindow",args:JSON.stringify(a)},l)}function b(a){var b=a[1];return null!=b&&["_blank","_parent","_self","_top"].indexOf(b)<0?b:null}function e(a,b){var c;for(c in a)try{void 0===b[c]&&(b[c]=a[c])}catch(d){}return b}var g=arguments,h=!0,j=null,k=null;if(null!=window.event&&(k=window.event.currentTarget),null==k){for(var m=g.callee;null!=m.arguments&&null!=m.arguments.callee.caller;)m=m.arguments.callee.caller;null!=m.arguments&&m.arguments.length>0&&null!=m.arguments[0].currentTarget&&(k=m.arguments[0].currentTarget)}null!=k&&(k instanceof Window||k===document||null!=k.URL&&null!=k.body||null!=k.nodeName&&("body"==k.nodeName.toLowerCase()||"#document"==k.nodeName.toLowerCase()))?(window.pbreason="Blocked a new window opened with URL: "+g[0]+" because it was triggered by the "+k.nodeName+" element",h=!1):h=!0;document.webkitFullscreenElement||document.mozFullscreenElement||document.fullscreenElement;if(((new Date).getTime()-d<1e3||isNaN(d)&&c())&&(window.pbreason="Blocked a new window opened with URL: "+g[0]+" because a full screen was just initiated while opening this url.",document.exitFullscreen?document.exitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitCancelFullScreen&&document.webkitCancelFullScreen(),h=!1),1==h){j=f.apply(this,g);var n=b(g);if(null!=n&&(i[n]=j),j!==window){var o=(new Date).getTime(),p=j.blur;j.blur=function(){(new Date).getTime()-o<1e3?(window.pbreason="Blocked a new window opened with URL: "+g[0]+" because a it was blured",j.close(),a(g)):p()}}}else{var q={href:g[0]};q.replace=function(a){q.href=a},j={close:function(){return!0},test:function(){return!0},blur:function(){return!0},focus:function(){return!0},showModelessDialog:function(){return!0},showModalDialog:function(){return!0},prompt:function(){return!0},confirm:function(){return!0},alert:function(){return!0},moveTo:function(){return!0},moveBy:function(){return!0},resizeTo:function(){return!0},resizeBy:function(){return!0},scrollBy:function(){return!0},scrollTo:function(){return!0},getSelection:function(){return!0},onunload:function(){return!0},print:function(){return!0},open:function(){return this},opener:window,closed:!1,innerHeight:480,innerWidth:640,name:g[1],location:q,document:{location:q}},e(window,j),j.window=j;var n=b(g);if(null!=n)try{i[n].close()}catch(r){}setTimeout(function(){var b;b=j.location instanceof Object?j.document.location instanceof Object?null!=q.href?q.href:g[0]:j.document.location:j.location,g[0]=b,a(g)},100)}return j}function b(a){d=a?(new Date).getTime():0/0}function c(){return document.fullScreenElement&&null!==document.fullScreenElement||null!=document.mozFullscreenElement||null!=document.webkitFullscreenElement}var d,e="originalOpenFunction",f=window.open,g=document.createElement,h=document.createEvent,i={},j=0,k=null,l=window.location!=window.parent.location?document.referrer:document.location;window[e]=window.open,window.open=function(){try{return a.apply(this,arguments)}catch(b){return null}},document.createElement=function(){var a=g.apply(document,arguments);if("a"==arguments[0]||"A"==arguments[0]){j=(new Date).getTime();var b=a.dispatchEvent;a.dispatchEvent=function(c){return null!=c.type&&"click"==(""+c.type).toLocaleLowerCase()?(window.pbreason="blocked due to an explicit dispatchEvent event with type 'click' on an 'a' tag",parent.postMessage({type:"blockedWindow",args:JSON.stringify({0:a.href})},l),!0):b(c)},k=a}return a},document.createEvent=function(){try{return arguments[0].toLowerCase().indexOf("mouse")>=0&&(new Date).getTime()-j<=50?(window.pbreason="Blocked because 'a' element was recently created and "+arguments[0]+" event was created shortly after",arguments[0]=k.href,parent.postMessage({type:"blockedWindow",args:JSON.stringify({0:k.href})},l),null):h.apply(document,arguments)}catch(a){}},document.addEventListener("fullscreenchange",function(){b(document.fullscreen)},!1),document.addEventListener("mozfullscreenchange",function(){b(document.mozFullScreen)},!1),document.addEventListener("webkitfullscreenchange",function(){b(document.webkitIsFullScreen)},!1)} inject()</script>

	<body data-gr-c-s-loaded="true">
	
		<div id="page">
			<div id="topPage">
				<div id="topPageTitles">
					<div class="navbar navbar-inverse">
						<div class="container-fluid">
							<div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
								<ul class="nav navbar-nav">
									<li><a href="http://sydney.edu.au/engineering/it/courses/info3220/tutorial2.html">Week 2</a></li>
									<li><a href="http://sydney.edu.au/engineering/it/courses/info3220/tutorial3.html">Week 3</a></li>
									<li><a href="http://sydney.edu.au/engineering/it/courses/info3220/tutorial4.html">Week 4</a></li>
									<li><a href="http://sydney.edu.au/engineering/it/courses/info3220/tutorial5.html">Week 5</a></li>
									<li><a href="http://sydney.edu.au/engineering/it/courses/info3220/tutorial6.html">Week 6</a></li>
									<li><a href="http://sydney.edu.au/engineering/it/courses/info3220/tutorial7.html">Week 7</a></li>
									<li class="active"><a href="http://sydney.edu.au/engineering/it/courses/info3220/tutorial8.html">Week 8</a></li>
									<li><a href="http://sydney.edu.au/engineering/it/courses/info3220/tutorial9.html">Week 9</a></li>
									<li><a href="http://sydney.edu.au/engineering/it/courses/info3220/tutorial10.html">Week 10</a></li>
									<li><a href="http://sydney.edu.au/engineering/it/courses/info3220/tutorial11.html">Week 11</a></li>
									<li><a href="http://sydney.edu.au/engineering/it/courses/info3220/tutorial12.html">Week 12</a></li>
									<li><a href="http://sydney.edu.au/engineering/it/courses/info3220/tutorial13.html">Week 13</a></li>
								</ul>
							</div>
						</div>
					</div>
					<div id="header">
						<div class="titlePlacement">
							<div class="title"><h1>Week 8 Tutorial</h1></div>
							<div class="subText"><h2>Introducing the Adaptor Pattern and the STL</h2></div>
						</div>
					</div>
				</div>
			</div>
			<div id="bottomPage">		
				<div id="contentsPanel" style="position: relative; width: 27%;">
					<ul class="nav nav-pills nav-stacked">
						<li id="nav1" class="active">
							<a href="http://sydney.edu.au/engineering/it/courses/info3220/tutorial8.html#section1"><span style="float:right;" class="glyphicon glyphicon-chevron-right"></span>Overview</a>
						</li>
						<li id="nav2" class="">
							<a href="http://sydney.edu.au/engineering/it/courses/info3220/tutorial8.html#section2"><span style="float:right;" class="glyphicon glyphicon-chevron-right"></span>The Adaptor Pattern</a>
						</li>
						<li id="nav3" class="">
							<a href="http://sydney.edu.au/engineering/it/courses/info3220/tutorial8.html#section3"><span style="float:right;" class="glyphicon glyphicon-chevron-right"></span>The STL</a>
						</li>						
						<li id="nav4" class="">
							<a href="http://sydney.edu.au/engineering/it/courses/info3220/tutorial8.html#section4"><span style="float:right;" class="glyphicon glyphicon-chevron-right"></span>Creating a Data Structure which behaves like both a Stack and a Queue</a>
						</li>
					</ul>
				</div>				
				<div id="pageContent"> 
					<div id="section1">
						<h1>Overview</h1>
						<p>This week your goal is to become familiar with a commonly used design pattern called the Adaptor. To do this you will be reintroduced to the STL Containers which have been previously discussed in the lectures.</p>
					</div>
					<div id="section2">
						<h1>The Adaptor Pattern</h1>	
						
						<p>The Adaptor Design Pattern which is often also referred to as the Wrapper Pattern is a structural design pattern. This design pattern aims to take an existing class and translates its existing interface into a new interface which is compatible with a new problem. The adaptor allows classes to work together that normally could not because of incompatible interfaces. This technique overcomes this difficulty by providing a compatible interface to clients while preserving the original interface.</p>
						
						<p>A common use for the adaptor pattern is when using 3rd party libraries. Often when writing code using 3rd party libraries you run the risk that upgrading the interface for the 3rd party library may result in the need for a large scale rewrite of your current code base to handle only minor interface changes. If this dependency on the 3rd party library is decoupled by implementing the adaptor pattern, then the only change required is in the adaptor pattern which preserves the client side interface and therefore requires a single change.</p>
						
					</div>	
					<div id="section3">
						<h1>The STL</h1>
						
						<p>The Standard Template Library is a C++ library which consists of four key areas:</p><p>
						
						</p><ul>
							<li>algorithms</li>
							<li>containers</li>
							<li>Functors</li>
							<li>iterators</li>
						</ul>
						
						<p>Throughout this course you will be exposed to all four aspects of the STL library. In today's tutorial you will be working with both containers and in <a href="http://sydney.edu.au/engineering/it/courses/info3220/tutorial9.html">next week's</a> lab you will work with both the STL iterators and the STL algorithms.</p>
						
						<p>The STL provides a number of valuable data structures. The ones which you will need to become familiar with include:</p>
						
						<ul>
							<li>Sequence containers
								<ul>
									<li><a href="http://www.cplusplus.com/reference/vector/vector/">vector</a></li>
									<li><a href="http://www.cplusplus.com/reference/list/list/">list</a></li>
									<li><a href="http://www.cplusplus.com/reference/deque/deque/">deque</a></li>
								</ul>
							</li>
							<li>Associative containers
								<ul>
									<li><a href="http://www.cplusplus.com/reference/set/set/">set</a></li>
									<li><a href="http://www.cplusplus.com/reference/map/map/">map</a></li>
								</ul>
							</li>
							<li>Unordered associative containers
								<ul>
									<li><a href="http://www.cplusplus.com/reference/unordered_set/unordered_set/">unordered set</a></li>
									<li><a href="http://www.cplusplus.com/reference/unordered_map/unordered_map/">unordered map</a></li>
								</ul>
							</li>
						</ul>

						<p>One of the great things about using one of these data structures is that these containers take care of the dynamic allocation of memory themselves and that when destroyed clear their referenced memory. As a result the STL containers are strongly encouraged for all C++ development.</p>
						
						<div class="alert alert-warning">
							<h4>Note</h4>
							It is strongly recommended that you use a STL container to store the list of obstacles for Stage 2 of the assignment.
						</div>
						
					</div>
					<div id="section4">
						<h1>Creating a Data Structure which behaves like both a Stack and a Queue</h1>				
						
						<h2>Stacks and Queues</h2>
							
						<p>You should be familiar with both the Stack and Queue data structures from INFO1105. If you have forgotten these data structures here is a brief summary. </p>
							
						<p>A <a href="http://en.wikipedia.org/wiki/Stack_(abstract_data_type)">stack</a> is a first in last out (FILO) data structure. That means that the first item placed in a stack will always be the last item removed.</p>
							
						<p>A <a href="http://en.wikipedia.org/wiki/Queue_(abstract_data_type)">queue</a>  is a first in first out (FIFO) data structure. That means that the first item placed in the queue will always be the first item removed.</p>
							
						<p>This brief summary is all that is required for today's tutorial which requires you to implement a data structure which can mimic the behaviour of both of these data structures.</p>
							
						<h2>The String Stack and the String Queue</h2>
							
						<p>You will design a data structure that implements (inherits from) the two interfaces below. This data structure will be called a <b>StringStackQueue</b>. These interfaces along with the header and implementation files for the <b>StringStackQueue</b> and test file for the <b>StringStackQueue</b> are included in a project file which can be downloaded <a href="http://sydney.edu.au/engineering/it/courses/info3220/files/week8/StackQueue.zip" download="Week8.zip">here</a>.</p>

<pre>class StringStack
{
public:
    virtual ~StringStack(){}

    /**
     * @brief empty checks if the stack is empty
     * @return true if empty otherwise false
     */
    virtual bool empty() const = 0;

    /**
     * @brief size checks the number of items in the stack
     * @return the number of items in the stack
     */
    virtual size_t size() const = 0;

    /**
     * @brief peek is the item at the top of the stack
     * this method should not alter the state of the stack
     * @return a reference to the top of the stack
     */
    virtual const std::string&amp; peek() const = 0;

    /**
     * @brief push adds an new item to the top of the stack
     * @param string the new item to add to the top of the stack
     */
    virtual void push(const std::string &amp;string) = 0;

    /**
     * @brief pop removes the item on the top of the stack
     * if the stack is empty return an empty string
     * @return the item that was previously on the top of the stack
     */
    virtual std::string pop() = 0;

    /**
     * @brief operator = overwrites the current stack with a new stack
     * @param stack the new stack
     * @return a reference to the current stack
     */
    virtual StringStack&amp; operator=(const StringStack &amp;stack) = 0;
};
</pre>

<pre>class StringQueue
{
public:
    virtual ~StringQueue(){}

    /**
     * @brief empty checks if the queue is empty
     * @return true if empty otherwise false
     */
    virtual bool empty() const = 0;

    /**
     * @brief size checks the number of items in the queue
     * @return the number of items in the queue
     */
    virtual size_t size() const = 0;

    /**
     * @brief front is the item at the front of the queue
     * this method should not alter the state of the queue
     * @return a reference to the first item in the queue
     */
    virtual const std::string&amp; front() const = 0;

    /**
     * @brief enqueue adds a item to the end of the queue
     * @param string the item to add at the end of the queue
     */
    virtual void enqueue(const std::string &amp;string) = 0;

    /**
     * @brief deqeue deletes an item from the front of the queue
     * if the deqeue is empty return an empty string
     * @return the first item from the queue before deleted
     */
    virtual std::string deqeue() = 0;

    /**
     * @brief operator = overwrites the current queue with a new queue
     * @param queue the new queue
     * @return a reference to the current queue
     */
    virtual StringQueue&amp; operator=(const StringQueue &amp;queue) = 0;
};
</pre>
							
						<p>This project requires that you implement this newly proposed data structure in the <b>StringStackQueue.cpp</b> and <b>StringStackQueue.h</b> files. Your task is to inherit both the <b>StringStack</b> and <b>StringQueue</b> classes using <code>public</code> inheritance. The <b>StringStackQueue</b> should use a STL container to store all the strings (<code>std::string</code>) which can be added and removed for the data structure. It is important that you select the STL container that will have the best performance for all operations.</p>

						<div class="alert alert-success">
							<h4>Hint</h4>
							Make sure that your first task is to select an appropriate STL container. If the appropriate container is not selected this task becomes more difficult. You may find using an <code>unordered map</code> to be more difficult than most STL containers when implementing your <b>StringStackQueue</b>.
						</div>
						
						<h2>'Newish' Style Casting</h2>
						
						<p>To complete the <code>operator=</code> method you will require a number of C++ casting functions which you may not be familiar with.</p> 
						
						<p>In C++ there are two forms of casting. The first is one you will be familiar with from Java and C. This is referred to as 'old' style casting. An example of 'old' style casting is the following.</p>

<pre>int x = 5;
float y = (float) x;
</pre>

						<div class="alert alert-warning"><h4>Note</h4>Is this an equally good idea when casting between pointers?</div>
			
						<p>There are times in C++ where 'old' style casting is not a good idea (such as casting pointers) or won't work at all (const). As a result a set of four casting methods have been provided to provide a more robust set of casting mechanisms which include: </p>
						
						<ul>
							<li><code>const_cast</code> used to modify the const properties of an object. This is the only way to remove the constness of an object</li>
							<li><code>static_cast</code> used for explicit type conversion.</li>
							<li><code>dynamic_cast</code> used for conversion of pointers. Includes runtime checks to validate the casting.</li>
							<li><code>reinterpret_cast</code> machine-dependent reinterpretation of the bit-pattern of the cast object.</li>
						</ul>
						
						<div class="alert alert-danger">
							<h4>Warning!</h4>
							The <code>reinterpret_cast</code> is outside the scope of this course. You will not be examined on how it works nor will you need to, or should, use it as part of any of the assignment tasks.
						</div>
						
						<p>For more information on each of these casting mechanisms read this great article from <a href="http://www.cplusplus.com/doc/tutorial/typecasting/">cplusplus.com.</a></p>
						
						<h2>Test your string stack</h2>
						
						<p>The project you have downloaded includes a main file that can be used to validate that your <b>StringStackQueue</b> works as defined. This could be improved further, however. What changes would you consider making to improve this class? Discuss this with your tutor and make a note of these as they will help with <a href="http://sydney.edu.au/engineering/it/courses/info3220/tutorial10.html">week 10's</a> lab.</p>
						
					</div>
				</div>
			</div>
		</div>
	
		

</body></html>